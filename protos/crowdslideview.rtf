{\rtf1\ansi\ansicpg1252\cocoartf1038\cocoasubrtf350
{\fonttbl\f0\fnil\fcharset0 Monaco;\f1\fnil\fcharset0 LucidaGrande;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue191;\red0\green115\blue0;\red191\green0\blue0;
\red96\green96\blue96;\red17\green41\blue162;}
\vieww9000\viewh8400\viewkind0
\deftab560
\pard\pardeftab560\ql\qnatural

\f0\fs18 \cf0 (\
\
\cf2 SynthDef\cf0 (\cf3 \\warp\cf0 , \{\cf2 arg\cf0  buffer = 0, envbuf = -1, ws = 5, pch = 0.8,pos=0.0,ol=2,rd=0,amp=0.5;\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab560\ql\qnatural\pardirnatural
\cf0 	\cf2 var\cf0  mx,my;\
\pard\pardeftab560\ql\qnatural
\cf0 \
	my = 0.02;//\cf2 MouseY\cf0 .kr(0.001,0.5 );\cf4 //splay\cf0 \
	\
	\cf2 Out\cf0 .ar(0,\
		\cf2 Splay\cf0 .ar(\
			\cf2 Warp1\cf0 .ar(2, buffer, pos, pch * \cf2 MouseX\cf0 .kr(0.9,1.4),ws, envbuf, ol, rd, 4) * my,\
			1,\
			1,\
			0\
		)\
	);	\
\}).send(s);\
\
)\
\
\
(\
\
//	\cf2 var\cf0  path = \cf5 "sounds/
\f1\fs24 \cf0 stadium1.wav
\f0\fs18 \cf5 "\cf0 ;\
\pard\pardeftab560\ql\qnatural
\cf4 //	var path = "sounds/\cf5 alleg.1\cf4 ";\cf0 \
\cf4 	var path = "sounds/\cf5 SFX_1020_44.wav\cf4 ";\cf0 \
	\
	\
w = \cf2 SCWindow\cf0 .new(\cf5 "soundfile test"\cf0 , \cf2 Rect\cf0 (200, 500, 800, 100));\
a = \cf2 SCSoundFileView\cf0 .new(w, \cf2 Rect\cf0 (20,20, 700, 60));\
\
c = SCSlider.new(w,Rect(20, 80, 700, 11))\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab560\ql\qnatural\pardirnatural
\cf0 	.action_\{|v|\
		x.set(\cf3 \\amp\cf0 , v.value); \
	\};\
\pard\pardeftab560\ql\qnatural
\cf0 \
b = \cf2 Buffer\cf0 .read(s, path);\
\
f = \cf2 SoundFile\cf0 .new;\
f.openRead(path);\
\
a.soundfile = f;\
a.read(0, f.numFrames);\
a.elasticMode = \cf2 true\cf0 ;\
\
a.timeCursorOn = \cf2 true\cf0 ;\
a.timeCursorColor = \cf2 Color\cf0 .red;\
a.timeCursorPosition = 0;\
a.drawsWaveForm = \cf2 true\cf0 ;\
a.gridOn = \cf2 true\cf0 ;\
a.gridResolution = 60;\
a.setSelectionColor(0, \cf6 Color\cf0 .red);\
a.timeCursorColor = \cf6 Color\cf0 .white;	\
\
w.front;\
\
\
	\cf4 // mouseUpAction\cf0 \
a.mouseUpAction = \{ \
	\
	\cf2 var\cf0  sp = a.selections[a.currentSelection].at(0) / f.numFrames;\
	\cf2 var\cf0  ep = a.selections[a.currentSelection].at(1) / f.sampleRate;\
	\cf4 //("mouseUp, current selection is now:" \cf0 \
	\cf4 //	+ a.selections[a.currentSelection]).postln;\cf0 \
	x.set(\cf3 \\pos\cf0 , sp);	\
	x.set(\cf3 \\ws\cf0 , ep);\
\};\
\
\
a.mouseMoveAction = \{ \
	\cf2 var\cf0  sp = a.selections[a.currentSelection].at(0) / f.numFrames;\
	\cf2 var\cf0  ep = a.selections[a.currentSelection].at(1) / f.sampleRate;\
	\cf4 //("mouseUp, current selection is now:" \cf0 \
	\cf4 //	+ a.selections[a.currentSelection]).postln;\cf0 \
	x.set(\cf3 \\pos\cf0 , sp);	\
	x.set(\cf3 \\ws\cf0 , ep);\
\};\
\
\
x = \cf2 Synth\cf0 (\cf3 \\warp\cf0 ,[\cf3 \\buffer\cf0 ,b,\cf3 \\ws\cf0 ,3.3]);\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab560\ql\qnatural\pardirnatural
\cf0 w.onClose = \{\
\pard\pardeftab560\ql\qnatural
\cf0 \
	x.free;\
\}\
\
)\
\
\
b.free;\
}